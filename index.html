<!doctype html>

<html>
<head>
	<meta charset="utf-8"> 
	<title> CF API </title>
	<script src="https://www.gstatic.com/charts/loader.js"></script>
	<script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>
<body>
	<input type = "text" id = "handle">
	<button type = "button" onclick = "getData()"> Touch me </button> <br />
	Given Handle: <span id = "ghandle"></span> <br />
	Name: <span id="name"></span> <br />
	Rating: <span id = "rating" ></span>
	<script>
		//getData();
		async function getData(){
			const api_url = 'https://codeforces.com/api/user.info?handles='+document.getElementById("handle").value;
			const response = await fetch(api_url);
			const data = await response.json();
			
			document.getElementById('ghandle').textContent = document.getElementById("handle").value;
			if( data.status == "OK" ){
				document.getElementById('name').textContent = data.result[0].handle;
				document.getElementById('rating').textContent = data.result[0].rating;
			} else{
				document.getElementById('name').textContent = "Error";
				document.getElementById('rating').textContent = "Error";
			}
		}
		
	</script>

</body>
</html>